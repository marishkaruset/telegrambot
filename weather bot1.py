import telebot
from pyowm import OWM
from pyowm.utils.config import get_default_config
from telebot import types 


bot = telebot.TeleBot("5227063280:AAGmhszDSHRRyXaSeZYp9nLUWhCnZBTBgtw")

@bot.message_handler(commands=['start'])
def welcome(message):
	bot.send_message(message.chat.id, '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ' + str(message.from_user.first_name) + ',\n–ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –ø—Ä–æ–≥–Ω–æ–∑ –æ–¥–µ–∂–¥—ã –Ω–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞')

@bot.message_handler(content_types=['text'])
def test(message):
	try:
		place = message.text

		config_dict = get_default_config()
		config_dict['language'] = 'ru'

		owm = OWM('421e91f66d1a744c0578eececec50f63', config_dict)
		mgr = owm.weather_manager()
		observation = mgr.weather_at_place(place)
		w = observation.weather

		t = w.temperature("celsius")
		t1 = t['temp']
		t2 = t['feels_like']

		wi = w.wind()['speed']
		humi = w.humidity
		dt = w.detailed_status

		
		if t2 <= -15 and t2 >= -40: 
			bot.send_message(message.chat.id,  "–í –≥–æ—Ä–æ–¥–µ " + str(place) + " —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ " + str(t1) + " ¬∞C" + "\n" + 
				"üå°–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ " + str(t2) + " ¬∞C" + "\n" +
				"üí®–°–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ " + str(wi) + " –º/—Å" + "\n" + 
				"üíß–í–ª–∞–∂–Ω–æ—Å—Ç—å " + str(humi) + " %" + "\n" + 
				"‚õÖÔ∏è" + str(dt) + "\n" +
				'–í–∞–º —Å—Ç–æ–∏—Ç –Ω–∞–¥–µ—Ç—å:' + "\n" +
				'–í–∞—Ä–µ–∂–∫–∏, —à–∞—Ä—Ñ, –∑–∏–º–Ω—é—é –∫—É—Ä—Ç–∫—É/–ø–∞–ª—å—Ç–æ/—à—É–±—É, —à–∞–ø–∫—É, —Ç—ë–ø–ª—ã–µ –Ω–æ—Å–∫–∏, –æ–±—É–≤—å –Ω–∞ —Ç–æ–ª—Å—Ç–æ–π –ø–æ–¥–æ—à–≤–µ,—Ç–µ–ø–ª—ã–π —Å–≤–∏—Ç–µ—Ä, –ø–æ–¥ –±—Ä—é–∫–∏ –Ω–∞–¥–µ—Ç—å —Ç–µ—Ä–º–æ–±–µ–ª—å–µ.')
				
		elif t2 <= -9 and t2 >= -14:
			bot.send_message(message.chat.id, "–í –≥–æ—Ä–æ–¥–µ " + str(place) + " —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ " + str(t1) + " ¬∞C" + "\n" + 
				"üå°–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ " + str(t2) + " ¬∞C" + "\n" +
				"üí®–°–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ " + str(wi) + " –º/—Å" + "\n" + 
				"üíß–í–ª–∞–∂–Ω–æ—Å—Ç—å " + str(humi) + " %" + "\n" + 
				"‚õÖÔ∏è" + str(dt) + "\n" +
				'–í–∞–º —Å—Ç–æ–∏—Ç –Ω–∞–¥–µ—Ç—å:' + "\n" +
				'–ü–µ—Ä—á–∞—Ç–∫–∏, —à–∞—Ä—Ñ, –∑–∏–º–Ω—é—é –∫—É—Ä—Ç–∫—É/–ø–∞–ª—å—Ç–æ, —Ç–µ–ø–ª—ã–π —Å–≤–∏—Ç–µ—Ä, –¥–∂–∏–Ω—Å—ã, —à–∞–ø–∫—É, –æ–±—É–≤—å –Ω–∞ —Ç–æ–ª—Å—Ç–æ–π –ø–æ–¥–æ—à–≤–µ.')

		elif t2 <= -5 and t2 >= -8:
			bot.send_message(message.chat.id, "–í –≥–æ—Ä–æ–¥–µ " + str(place) + " —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ " + str(t1) + " ¬∞C" + "\n" + 
				"üå°–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ " + str(t2) + " ¬∞C" + "\n" +
				"üí®–°–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ " + str(wi) + " –º/—Å" + "\n" + 
				"üíß–í–ª–∞–∂–Ω–æ—Å—Ç—å " + str(humi) + " %" + "\n" + 
				"‚õÖÔ∏è" + str(dt) + "\n" +
				'–í–∞–º —Å—Ç–æ–∏—Ç –Ω–∞–¥–µ—Ç—å:' + "\n" +
				'–¢—Ä–∏–∫–æ—Ç–∞–∂–Ω–æ–µ (—à–µ—Ä—Å—Ç—è–Ω–æ–µ) –ø–ª–∞—Ç—å–µ/—Ç–µ–ø–ª—É—é —Ä—É–±–∞—à–∫—É —Å —Ç–µ–ø–ª—ã–º–∏ –±—Ä—é–∫–∞–º–∏; —Ç—Ä–∏–∫–æ—Ç–∞–∂–Ω–∞—è (—à–µ—Ä—Å—Ç—è–Ω–∞—è) –∫–æ—Ñ—Ç–∞; –∫–æ–ª–≥–æ—Ç–∫–∏; –∑–∏–º–Ω—è—è –∫—É—Ä—Ç–∫–∞/–ø–∞–ª—å—Ç–æ; —à–∞–ø–∫–∞; —Å–∞–ø–æ–≥–∏; –ø–µ—Ä—á–∞—Ç–∫–∏.')
		
		elif t2 <= -1 and t2 >= -4:
			bot.send_message(message.chat.id,"–í –≥–æ—Ä–æ–¥–µ " + str(place) + " —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ " + str(t1) + " ¬∞C" + "\n" + 
				"üå°–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ " + str(t2) + " ¬∞C" + "\n" +
				"üí®–°–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ " + str(wi) + " –º/—Å" + "\n" + 
				"üíß–í–ª–∞–∂–Ω–æ—Å—Ç—å " + str(humi) + " %" + "\n" + 
				"‚õÖÔ∏è" + str(dt) + "\n" +
				'–í–∞–º —Å—Ç–æ–∏—Ç –Ω–∞–¥–µ—Ç—å:' + "\n" +
				'–¢–µ–ø–ª–æ–µ –ø–ª–∞—Ç—å–µ/—Ç–µ–ø–ª—É—é –≤–æ–¥–æ–ª–∞–∑–∫—É —Å –±—Ä—é–∫–∞–º–∏; –∫—É—Ä—Ç–∫—É/–ø–∞–ª—å—Ç–æ; —Å–∞–ø–æ–≥–∏/—Ç–µ–ø–ª—ã–µ –∫—Ä–æ—Å—Å–æ–≤–∫–∏; —à–∞–ø–∫—É; –ø–µ—Ä—á–∞—Ç–∫–∏.')


		elif t2 <=7 and t2 >= 0:
			bot.send_message(message.chat.id, "–í –≥–æ—Ä–æ–¥–µ " + str(place) + " —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ " + str(t1) + " ¬∞C" + "\n" + 
				"üå°–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ " + str(t2) + " ¬∞C" + "\n" +
				"üí®–°–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ " + str(wi) + " –º/—Å" + "\n" + 
				"üíß–í–ª–∞–∂–Ω–æ—Å—Ç—å " + str(humi) + " %" + "\n" + 
				"‚õÖÔ∏è" + str(dt) + "\n" +
				'–í–∞–º —Å—Ç–æ–∏—Ç –Ω–∞–¥–µ—Ç—å:' + "\n" +
				'–¢–µ–ø–ª–æ–µ –ø–ª–∞—Ç—å–µ/—Ç–µ–ø–ª—É—é –≤–æ–¥–æ–ª–∞–∑–∫—É —Å –±—Ä—é–∫–∞–º–∏; –∫—É—Ä—Ç–∫—É/–ø–∞–ª—å—Ç–æ; —Å–∞–ø–æ–≥–∏/ –∫—Ä–æ—Å—Å–æ–≤–∫–∏.' ) 

		elif t2 <= 12 and t2 >= 8:
			bot.send_message(message.chat.id, "–í –≥–æ—Ä–æ–¥–µ " + str(place) + " —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ " + str(t1) + " ¬∞C" + "\n" + 
				"üå°–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ " + str(t2) + " ¬∞C" + "\n" +
				"üí®–°–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ " + str(wi) + " –º/—Å" + "\n" + 
				"üíß–í–ª–∞–∂–Ω–æ—Å—Ç—å " + str(humi) + " %" + "\n" + 
				"‚õÖÔ∏è" + str(dt) + "\n" +
				'–í–∞–º —Å—Ç–æ–∏—Ç –Ω–∞–¥–µ—Ç—å:' + "\n" +
				'–¢—Ä–∏–∫–æ—Ç–∞–∂–Ω–æ–µ –∏–ª–∏ —à–µ—Ä—Å—Ç—è–Ω–æ–µ –ø–ª–∞—Ç—å–µ/—Ä—É–±–∞—à–∫—É; —Ç–µ–ø–ª—É—é –∫–æ—Ñ—Ç—É; –∫–æ–ª–≥–æ—Ç—ã; —Ç–µ–ø–ª—ã–µ —à—Ç–∞–Ω—ã; –æ–±—É–≤—å - –∫—Ä–æ—Å—Å–æ–≤–∫–∏/–±–æ—Ç–∏–Ω–∫–∏. ')
		
		elif t2 <= 16 and t2 >= 13:
			bot.send_message(message.chat.id, "–í –≥–æ—Ä–æ–¥–µ " + str(place) + " —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ " + str(t1) + " ¬∞C" + "\n" + 
				"üå°–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ " + str(t2) + " ¬∞C" + "\n" +
				"üí®–°–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ " + str(wi) + " –º/—Å" + "\n" + 
				"üíß–í–ª–∞–∂–Ω–æ—Å—Ç—å " + str(humi) + " %" + "\n" + 
				"‚õÖÔ∏è" + str(dt) + "\n" +
				'–í–∞–º —Å—Ç–æ–∏—Ç –Ω–∞–¥–µ—Ç—å:' + "\n" +
				'–¢—Ä–∏–∫–æ—Ç–∞–∂–Ω–æ–µ –∏–ª–∏ —à–µ—Ä—Å—Ç—è–Ω–æ–µ –ø–ª–∞—Ç—å–µ/—Ä—É–±–∞—à–∫–∞; —Ç–µ–ø–ª—É—é –∫–æ—Ñ—Ç—É/–ª–µ–≥–∫—É—é –∫—É—Ä—Ç–∫—É; –∫–æ–ª–≥–æ—Ç—ã; —Ç–µ–ø–ª—ã–µ —à—Ç–∞–Ω—ã; –æ–±—É–≤—å - –∫—Ä–æ—Å—Å–æ–≤–∫–∏/–±–æ—Ç–∏–Ω–∫–∏.')

		elif t2 <= 30 and t2 >= 17:
			bot.send_message(message.chat.id,  "–í –≥–æ—Ä–æ–¥–µ " + str(place) + " —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ " + str(t1) + " ¬∞C" + "\n" + 
				"üå°–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ " + str(t2) + " ¬∞C" + "\n" +
				"üí®–°–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ " + str(wi) + " –º/—Å" + "\n" + 
				"üíß–í–ª–∞–∂–Ω–æ—Å—Ç—å " + str(humi) + " %" + "\n" + 
				"‚õÖÔ∏è" + str(dt) + "\n" +
				'–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Ç–∫–∞–Ω—å: —Ö–ª–æ–ø–æ–∫, –ª—ë–Ω; –∫—Ä–æ–π - —Å–≤–æ–±–æ–¥–Ω—ã–π; –Ω–∏–∑ - —à–æ—Ä—Ç—ã/—é–±–∫–∞; –ø–ª–∞—Ç—å–µ, –±–ª—É–∑–∫–∞/ —Ñ—É—Ç–±–æ–ª–∫–∞/—Ä—É–±–∞—à–∫–∞ —Å –∫–æ—Ä–æ—Ç–∫–∏–º —Ä—É–∫–∞–≤–æ–º –∏–ª–∏ –±–µ–∑; –≥–æ–ª–æ–≤–Ω–æ–π —É–±–æ—Ä —Å –ø–æ–ª—è–º–∏ (—à–ª—è–ø–∞) –∏–ª–∏ –∫–æ–∑—ã—Ä—å–∫–æ–º (–∫–µ–ø–∫–∞); –Ω–µ –∑–∞–±—ã—Ç—å –ø—Ä–æ —Å–æ–ª–Ω—Ü–µ–∑–∞—â–∏—Ç–Ω—ã–π –∫—Ä–µ–º.')

		else:
			bot.send_message(message.chat.id, '–£–ø—Å, –ø—Ä–æ–±–ª–µ–º–∫–∞, –Ω–µ –º–æ–∂–µ–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ–≥–æ–¥—É, –æ–± –æ—à–∏–±–∫–µ –Ω–∞–ø–∏—à–∏—Ç–µ @rusetskaya')

	except:
		bot.send_message(message.chat.id,"–¢–∞–∫–æ–π –≥–æ—Ä–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω!")
		print(str(message.text),"- –Ω–µ –Ω–∞–π–¥–µ–Ω")

bot.polling(none_stop=True, interval=0)